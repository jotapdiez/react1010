(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(38)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),i=a(5),s=a(39),l=a(40),u=15,d="move",f="custom_container_type",p=[[[1],[1],[1],[1,1,1,1]],[[1,1,1,1],[1],[1],[1]],[[1],[1],[1],[1]],[[1,1],[1,1]],[[1,1,1],[1,1,1],[1,1,1]],[[1,1,1],[1,0,0],[1,0,0]],[[1,1,1],[0,0,1],[0,0,1]],[[1,1,1,1]],[[1]],[[1,1]],[[1,1,1]],[[1],[1],[1]],[[1],[1,1]],[[1],[1]]],m=a(4),v=a(2),g=function(e){return{type:"use",payload:e}},b=function(e){return{type:"add",payload:e}},E=function(e){return{type:"score_add",payload:e}},O=function(){return{type:"score_drop"}},y=1,x=2,N=Array(9).fill(Array(u).fill({id:null,placed:!1,status:0,color:null}));function h(e){var t=Object(v.b)(),a=Object(r.useState)(N),c=Object(i.a)(a,2),o=c[0],d=c[1],p=function(e){return!!(e.dataTransfer.getData(f)&&e.target.attributes["rowindex-data"]&&e.target.attributes["colindex-data"].value)},b=function(e){if(p(e)){var t=JSON.parse(e.dataTransfer.getData(f)),a=parseInt(e.target.attributes["rowindex-data"].value),r=parseInt(e.target.attributes["colindex-data"].value),n=t.matrix,c=JSON.parse(JSON.stringify(o));for(var i in n){var s=parseInt(i)+parseInt(a);if(c[s])for(var l in n[i]){var u=parseInt(l)+parseInt(r);c[s][u]&&(0!==n[i][l]&&(c[s][u].status=0))}}d(c)}},h=function(e,t,a){var r=JSON.parse(JSON.stringify(o)),n=!1;for(var c in e)for(var i in e[c])if(0!==e[c][i]){var s=parseInt(c)+parseInt(t),l=parseInt(i)+parseInt(a);if(!r[s]||!r[s][l]||r[s][l].placed){n=!0;break}}for(var u in e)for(var f in e[u])if(0!==e[u][f]){var p=parseInt(u)+parseInt(t),m=parseInt(f)+parseInt(a);r[p]&&r[p][m]&&(r[p][m].status=n?y:x)}d(r)};return n.a.createElement(n.a.Fragment,null,n.a.createElement(l.a,{className:"board",onDrop:function(e){if(t(O()),b(e),p(e)&&!Object(m.find)(Object(m.flatten)(o),function(e){return e.status===y})){var a=JSON.parse(e.dataTransfer.getData(f)),r={r:parseInt(e.target.attributes["rowindex-data"].value),c:parseInt(e.target.attributes["colindex-data"].value)};h(a.matrix,r.r,r.c)?console.log("Board:: onDrop:: checkPieceColision=true"):function(e,a,r){var n=0,c=JSON.parse(JSON.stringify(o));for(var i in e.matrix)for(var s in e.matrix[i])if(1===e.matrix[i][s]){var l=parseInt(a)+parseInt(i),f=parseInt(r)+parseInt(s);++n,c[l][f].id=e.id+""+i+s,c[l][f].placed=!0,c[l][f].status=0,c[l][f].color=e.color}t(g(e.id)),t(E(n)),function(e){var a=0;for(var r in e)if(Object(m.find)(e[r],function(e){return e.placed})){var n=Object(m.every)(e[r],["placed",!0]);n&&(++a,Object(m.forEach)(e[r],function(e){e.placed=!1,e.color=null}))}for(var c=0;c<u;++c){var o=!1;for(var i in e)e[i][c].placed||(o=!0);if(!o)for(var s in++a,e)e[s][c].placed=!1,e[s][c].color=null}a>0&&t(E(10*a))}(c),d(c)}(a,r.r,r.c)}},onDragEnd:function(e){},onDragEnter:function(e){if(p(e)){var t=JSON.parse(e.dataTransfer.getData(f)),a={r:parseInt(e.target.attributes["rowindex-data"].value),c:parseInt(e.target.attributes["colindex-data"].value)};h(t.matrix,a.r,a.c)}},onDragLeave:b,onDragOver:function(e){e.preventDefault()}},o.map(function(e,t){var a=e.map(function(e,a){return function(e,t,a){var r="empty";return 0!==e.status?r=e.status===y?"dragEnterWrong":"dragEnterOk":e.placed&&(r="piece"),n.a.createElement(s.a,{in:e.placed,key:a+""+t,timeout:100,classNames:"column"},n.a.createElement("div",{key:t,"colindex-data":t,"rowindex-data":a,className:(e.color?e.color+" ":"")+"column "+r}))}(e,a,t)});return n.a.createElement("div",{key:"r"+t,className:"board_row"},a)})))}a(34);function j(){var e=Object(v.c)(function(e){return console.log("store:",e),e.score}),t=e.score,a=e.drops,c=Object(r.useState)(!1),o=Object(i.a)(c,2),l=o[0],u=o[1];return Object(r.useEffect)(function(){u(!0)},[t]),n.a.createElement("div",{className:"score"},n.a.createElement("span",null,n.a.createElement("strong",null,"Puntaje:")),n.a.createElement(s.a,{in:l,timeout:100,onEntered:function(){return u(!1)},classNames:"score-text"},n.a.createElement("div",{className:"score-text"},t)),n.a.createElement("br",null),n.a.createElement("span",null,n.a.createElement("strong",null,"Movimientos:")),n.a.createElement("div",null,a))}a(35);var w=["bg-primary","bg-secondary","bg-success","bg-danger","bg-warning","bg-info","bg-dark"];function I(e){var t=Object(r.useState)({}),a=Object(i.a)(t,2),c=a[0],o=a[1],s=Object(r.useState)(w[Math.floor(Math.random()*w.length)]),l=Object(i.a)(s,1)[0];return n.a.createElement("div",{style:e.style,className:"pieceCointainer",draggable:"true",onDragStart:function(t){t.persist(),function(t){t.persist();var a=t.nativeEvent;a.dataTransfer.effectAllowed=d;var r={matrix:p[e.index],pickedFrom:c,id:e.id,color:l};a.dataTransfer.setData(f,JSON.stringify(r)),a.dataTransfer.dropEffect="move"}(t)}},p[e.index].map(function(e,t){var a=e.map(function(e,a){var r=["piece_column"];return r.push(1===e?"piece":"empty"),1===e&&r.push(l),n.a.createElement("div",{key:"pcol"+a,className:r.join(" "),onMouseDown:function(r){1===e&&o({r:t,c:a})}})});return n.a.createElement("div",{key:"r"+t,className:"piece_row"},a)}))}function S(e){var t=Object(v.b)(),a=Object(v.c)(function(e){return e.nextPiece});return Object(r.useEffect)(function(){0===a.length&&t(b(5))}),n.a.createElement(l.a,{className:"nextPieces"},a.map(function(e){return n.a.createElement(s.a,{key:e.id,timeout:200,classNames:"nextPieces"},n.a.createElement(I,{key:e.id,id:e.id,className:"nextPiece",index:e.index}))}))}a(36);var k=function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("h1",null,"React",n.a.createElement("span",{className:"text-danger"},"10"),n.a.createElement("span",{className:"text-primary"},"10"),"!"),n.a.createElement(j,null),n.a.createElement(S,null)),n.a.createElement("div",{className:"col-md-8"},n.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);var J=a(8),D=[],_=5;var P={drops:0,score:0};var T=Object(J.b)({nextPiece:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add":return function(e,t){for(var a=JSON.parse(JSON.stringify(e)),r=0;r<t;++r){var n=Math.floor(Math.random()*p.length);a.push({id:++_,index:n})}return a}(e,t.payload);case"use":return function(e,t){var a=JSON.parse(JSON.stringify(e));return Object(m.remove)(a,function(e){return e.id===t}),a}(e,t.payload);default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=Object.assign({},e);switch(t.type){case"score_add":return a.score+=t.payload,a;case"score_drop":return++a.drops,console.log("result: ",a),a;default:return e}}});o.a.render(n.a.createElement(v.a,{store:Object(J.c)(T)},n.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.0b6b1ea5.chunk.js.map